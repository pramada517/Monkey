{% extends "layout.html" %}
{% block body %}
  <form action="" method=GET class="form-horizontal">
    <h3>List of Monkeys</h3>
    <span class=pull-right>
      <a href="/add_monkey"><h4>Add Monkey</h4></a>
    </span>
    <div class="listing">
    	<!-- Default panel contents -->
	  <table id="mytable" class="table tablesorter">
            <thead>
	      <tr>
		<th>Name</th>
                <th>Best Friend </th>
                <th>No. of friends </th>
              </tr>
            </thead>
            <tbody>
	      {%- for m in monkey %}
              <tr>
               <td><a href="/monkey/view/{{ m.id }}">{{ m.name }}</a></td>
               <td>{{m.bestfriend.name}} </td>
               <td>{{ m.friend.count()}}</td>
              </tr>
      	      {%- endfor %}
            </tbody>
	  </table>
    </div>
    <div id="pager" class="pager">
        <form>
           <img src="../static/img/first.png" class="first"/>
           <img src="../static/img/prev.png" class="prev"/>
           <input type="text" class="pagedisplay"/>
           <img src="../static/img/next.png" class="next"/>
           <img src="../static/img/last.png" class="last"/>
           <select class="pagesize">
             <option selected="selected"  value="10">10</option>
              <option value="20">20</option>
              <option value="30">30</option>
          </select>
        </form>
    </div>
  </form>
{% endblock body %}

{% block js %}
  <script src="/static/js/jquery-latest.js" type="text/javascript"></script>
  <script src="/static/js/jquery.tablesorter1.js" type="text/javascript"></script>
  <script src="/static/js/jquery.tablesorter.pager1.js" type="text/javascript"></script>
  <script>
        $(document).ready(function (){
            $("#mytable")
             .tablesorter({widthFixed: true, widgets: ['zebra']})
             .tablesorterPager({container: $("#pager")});
        });
    </script>
{% endblock js %}
